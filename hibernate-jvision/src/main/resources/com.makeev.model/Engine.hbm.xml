<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping xmlns="http://www.hibernate.org/xsd/hibernate-mapping">

   <class name="com.makeev.model.Engine" table="engines_p3">
      <id name="id" type="int" column="id"> <generator class ="identity"/></id>
      <property name="name" column="name" />
      <property name="power" column="power"/>
      <property name="carMark" column="car_mark"/>
      <!-- join cars to this engine-->
      <set name="cars" table="cars_p3" cascade="all" fetch="join">
         <!-- column="mark" is from table cars_p3, property-ref="carMark" - is from Engine class -->
         <key column="mark" property-ref="carMark"/>
         <one-to-many class="com.makeev.model.Car"/>
      </set>
   </class>

</hibernate-mapping>